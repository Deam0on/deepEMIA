bucket: nn-uct
paths:
  main_script: "~/deepEMIA/main.py"
  split_dir: "~/split_dir"
  category_json: "~/deepEMIA/dataset_info.json"
  eta_file: "~/deepEMIA/config/eta_data.json"
  logs_dir: "~/logs"
  output_dir: "~/deepEMIA/output"
  local_dataset_root: "~"
scale_bar_rois:
  default:
    x_start_factor: 0.667
    y_start_factor: 0.866
    width_factor: 1
    height_factor: 0.067
scalebar_thresholds:
  intensity: 100
  proximity: 50
measure_contrast_distribution: false
rcnn_hyperparameters:
  # Default hyperparameters used for all datasets when no dataset-specific settings exist
  default:
    R50:
      base_lr: 0.00025
      ims_per_batch: 2
      warmup_iters: 1000
      gamma: 0.1
      batch_size_per_image: 64
    R101:
      base_lr: 0.00025
      ims_per_batch: 2
      warmup_iters: 1000
      gamma: 0.1
      batch_size_per_image: 64
  # Global best hyperparameters (used when no dataset-specific best exists)
  best:
    R50: {}
    R101: {}
  # Dataset-specific best hyperparameters (example format)
  # best_my_dataset:
  #   R50:
  #     base_lr: 0.0001
  #     ims_per_batch: 4
  #     warmup_iters: 1500
  #     gamma: 0.15
  #     batch_size_per_image: 128
  #   R101:
  #     base_lr: 0.0001
  #     ims_per_batch: 2
  #     warmup_iters: 1200
  #     gamma: 0.12
  #     batch_size_per_image: 96
inference_settings:
  use_class_specific_inference: true  # Set to false to use traditional approach
  iterative_stopping:
    min_total_masks: 10          # Minimum masks before considering early stop
    min_relative_increase: 0.25  # 25% minimum increase requirement
    max_consecutive_zero: 2      # Stop after N iterations with no new masks
    min_iterations: 3            # Always run at least this many iterations
  class_specific_settings:
    class_0:  # Large particles
      confidence_threshold: 0.5
      iou_threshold: 0.7
      min_size: 25
    class_1:  # Small particles
      confidence_threshold: 0.3
      iou_threshold: 0.5
      min_size: 5
      use_multiscale: true